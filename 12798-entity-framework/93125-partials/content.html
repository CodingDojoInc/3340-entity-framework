<h1>Partials</h1>
<p>
<img src="https://s3.us-east-1.amazonaws.com/General_V88/boomyeah2015/codingdojo/curriculum/content/chapter/1643999097__General visual.png" style="width: 100px; height: 100px;" width="100" height="100" alt="''" title="''">
<b style="font-size: large;">Learning Objectives:</b>
</p>
<ul>
<li>Apply partials to an ASP.NET Core MVC application to improve code readability.</li></ul>
<hr>
<div class="video-container"><iframe style="width: 938px; height: 514px;" src="//player.vimeo.com/video/795640542" frameborder="0" allowfullscreen="" class="vimeo_responsive" data-ready="true"><span id="selection-marker-1" class="redactor-selection-marker"></span></iframe></div>
<p>Partials are a way for us to write snippets of cshtml that can be plugged into other cshtml files whenever and wherever we need them. This can be handy if there is a particular snippet we want to reuse in multiple places (i.e. a special navbar or a stylized card that displays given information) or to streamline the look of our code. It will also come in handy later in the course when we talk about rendering multiple forms on a single page.<br></p>
<p>When we are done setting up our partials, they will not look all that different from how we would set up a normal cshtml file. The primary difference will be in how we use these partials to improve the performance of our websites. </p>
<h2>Getting Started</h2>
<p>To start using partials, we must first ensure we have enabled <a href="https://learn.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/intro?view=aspnetcore-6.0" target="_blank">Tag Helpers</a> in our project. If you have created an MVC project using dotnet's built-in commands, this is already present. It lives in your <code>_ViewImports.cshtml</code> and looks like this:</p>
<pre class="rainbow" data-language="c_sharp"><span class="comment from-rainbow">// other imports</span>
@addTagHelper <span class="keyword operator from-rainbow">*</span>, Microsoft.AspNetCore.Mvc.TagHelpers</pre>
<h2>Making A Partial</h2>
<p>Let's say we have a special navbar that isn't predominant enough to warrant making a new _Layout file over (though _Layout is an example of partials in action!) We would start by making a new file in our "Home" Views folder (or whichever associated controller View folder you want to store this partial in) called <code>_Navbar.cshtml</code>. It is a standard convention that all partials begin with an <code>_</code> (just like _Layout).</p>
<p>Once you have that file ready, write anything you want in it. Create a navbar or simply throw in an h1 with a greeting.</p>
<h3>_Navbar.cshtml</h3>
<pre class="rainbow" data-language="html"><span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag-name from-rainbow">ul</span></span><span class="support tag close from-rainbow">&gt;</span>        
    <span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag-name from-rainbow">li</span></span><span class="support tag close from-rainbow">&gt;</span><span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag-name from-rainbow">a</span></span> <span class="support attribute from-rainbow">href</span><span class="support operator from-rainbow">=</span><span class="string quote from-rainbow">"</span><span class="string value from-rainbow">/</span><span class="string quote from-rainbow">"</span><span class="support tag close from-rainbow">&gt;</span>Home<span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag special from-rainbow">/</span><span class="support tag-name from-rainbow">a</span></span><span class="support tag close from-rainbow">&gt;</span><span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag special from-rainbow">/</span><span class="support tag-name from-rainbow">li</span></span><span class="support tag close from-rainbow">&gt;</span>        
    <span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag-name from-rainbow">li</span></span><span class="support tag close from-rainbow">&gt;</span><span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag-name from-rainbow">a</span></span> <span class="support attribute from-rainbow">href</span><span class="support operator from-rainbow">=</span><span class="string quote from-rainbow">"</span><span class="string value from-rainbow">/about</span><span class="string quote from-rainbow">"</span><span class="support tag close from-rainbow">&gt;</span>About Me<span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag special from-rainbow">/</span><span class="support tag-name from-rainbow">a</span></span><span class="support tag close from-rainbow">&gt;</span><span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag special from-rainbow">/</span><span class="support tag-name from-rainbow">li</span></span><span class="support tag close from-rainbow">&gt;</span>    
<span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag special from-rainbow">/</span><span class="support tag-name from-rainbow">ul</span></span><span class="support tag close from-rainbow">&gt;</span>
</pre>
<p>With your navbar code complete, all that's left is to bring it onto the page you want it to show up on.</p>
<h2>Loading A Partial</h2>
<p>There is some special syntax we will have to use to load in this partial. First, we'll show you what the code looks like:</p>
<h3>Index.cshtml</h3>
<pre class="rainbow" data-language="html">@await Html.PartialAsync("_Navbar")
<span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag-name from-rainbow">h1</span></span><span class="support tag close from-rainbow">&gt;</span>Welcome to this site!<span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag special from-rainbow">/</span><span class="support tag-name from-rainbow">h1</span></span><span class="support tag close from-rainbow">&gt;</span>
<span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag-name from-rainbow">p</span></span><span class="support tag close from-rainbow">&gt;</span>The rest of your View content here...<span class="support tag from-rainbow"><span class="support tag from-rainbow">&lt;</span><span class="support tag special from-rainbow">/</span><span class="support tag-name from-rainbow">p</span></span><span class="support tag close from-rainbow">&gt;</span></pre>
<p>This is called a <strong>PartialAsync</strong>. The only thing we need to modify each time we use it is the name of the file we are trying to render. In the example above we use "_Navbar" since that is the name of the cshtml file we created. Take note that this worked because _Navbar is in the same Views/Home folder as Index.</p>
<p>That's it! If you render the page now you will see the content from the navbar with our content from index! Coming up, we'll go over some other ways we can make partials useful to us.</p>
<p><strong>Note:</strong> You may need to update where your call to the partial is pointing depending on its location relative to the file it is being rendered on. For example, if your Index.cshtml was located in the "Home" folder, but your partial was located in "Home/Partials" (assuming we made a folder for holding all our partials inside our Home folder) we would need to update our PartialAsync to point to ("Partials/_Navbar").</p>
